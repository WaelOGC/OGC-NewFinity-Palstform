flowchart TB

%% Phase 4.4 - User Interface Layer Overview
%% UI layer breakdown and interaction flow

USER([User Interaction])

subgraph UI_LAYERS["UI Layer Breakdown"]
  LAYOUT_LAYER[Layout Layer]
  NAVIGATION_LAYER[Navigation Layer]
  PAGE_LAYER[Page Layer]
  COMPONENT_LAYER[Component Layer]
  UTILITY_LAYER[Utility Layer<br/>Hooks, Helpers]
  STYLING_LAYER[Styling Layer<br/>CSS Modules,<br/>Global Styles]
end

subgraph INTERACTION_FLOW["User Interaction Flow"]
  USER_ACTION[User Action]
  COMPONENT_HANDLER[Component Handler]
  HOOK_PROCESSING[Hook Processing]
  STATE_UPDATE[State Update]
  API_CALL[API Call]
  UI_UPDATE[UI Update]
end

subgraph STATE_FLOW["Global State Flow"]
  STATE_MANAGEMENT[State Management<br/>Context/Store]
  STATE_DISTRIBUTION[State Distribution]
  COMPONENT_STATE[Component State]
end

USER --> USER_ACTION
USER_ACTION --> UI_LAYERS

UI_LAYERS --> LAYOUT_LAYER
UI_LAYERS --> NAVIGATION_LAYER
UI_LAYERS --> PAGE_LAYER
UI_LAYERS --> COMPONENT_LAYER
UI_LAYERS --> UTILITY_LAYER
UI_LAYERS --> STYLING_LAYER

LAYOUT_LAYER --> NAVIGATION_LAYER
NAVIGATION_LAYER --> PAGE_LAYER
PAGE_LAYER --> COMPONENT_LAYER
COMPONENT_LAYER --> UTILITY_LAYER
UTILITY_LAYER --> STYLING_LAYER

COMPONENT_LAYER --> INTERACTION_FLOW
INTERACTION_FLOW --> USER_ACTION
USER_ACTION --> COMPONENT_HANDLER
COMPONENT_HANDLER --> HOOK_PROCESSING
HOOK_PROCESSING --> STATE_UPDATE
STATE_UPDATE --> API_CALL
API_CALL --> UI_UPDATE
UI_UPDATE --> USER

COMPONENT_LAYER --> STATE_FLOW
STATE_FLOW --> STATE_MANAGEMENT
STATE_MANAGEMENT --> STATE_DISTRIBUTION
STATE_DISTRIBUTION --> COMPONENT_STATE
COMPONENT_STATE --> COMPONENT_LAYER

STYLING_LAYER -.->|Styles| LAYOUT_LAYER
STYLING_LAYER -.->|Styles| NAVIGATION_LAYER
STYLING_LAYER -.->|Styles| PAGE_LAYER
STYLING_LAYER -.->|Styles| COMPONENT_LAYER

UTILITY_LAYER -.->|Helpers| COMPONENT_LAYER
UTILITY_LAYER -.->|Hooks| PAGE_LAYER

