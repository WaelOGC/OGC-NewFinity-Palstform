# =============================================================================
# OGC NewFinity Platform - Environment Variables
# =============================================================================
# Copy this file to .env and fill in your actual values
# Required variables must be set or the server will fail to start
# =============================================================================

# -----------------------------------------------------------------------------
# Core Configuration (Required)
# -----------------------------------------------------------------------------
NODE_ENV=development
PORT=4000
HOST=0.0.0.0

# -----------------------------------------------------------------------------
# Database Configuration (Required)
# -----------------------------------------------------------------------------
DB_HOST=127.0.0.1
DB_PORT=3306
DB_USER=root
DB_PASSWORD=your_password
DB_NAME=ogc_newfinity

# -----------------------------------------------------------------------------
# Authentication & Security (Required)
# -----------------------------------------------------------------------------
# JWT secrets - MUST be set to secure random strings in production
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_ACCESS_SECRET=your_access_secret_key_here
JWT_REFRESH_SECRET=your_refresh_secret_key_here


# OAuth email ticket secret (Optional)
# Secret for signing OAuth email tickets (used when provider doesn't return email)
# If not set, falls back to JWT_ACCESS_SECRET in development (with warning)
# Recommended to set in production for security
# OAUTH_EMAIL_TICKET_SECRET=your_oauth_email_ticket_secret_here

# JWT expiration (optional, defaults shown)
JWT_ACCESS_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# Cookie names (optional, defaults shown)
JWT_COOKIE_ACCESS_NAME=ogc_access
JWT_COOKIE_REFRESH_NAME=ogc_refresh

# -----------------------------------------------------------------------------
# Frontend Configuration (Required)
# -----------------------------------------------------------------------------
# Base URL of the frontend application (used for activation/reset links, OAuth callbacks)
FRONTEND_BASE_URL=http://localhost:5173

# -----------------------------------------------------------------------------
# Backend URL (Optional - for OAuth callbacks)
# -----------------------------------------------------------------------------
# If not set, defaults to http://localhost:{PORT}
BACKEND_URL=http://localhost:4000

# -----------------------------------------------------------------------------
# Cookie & Session Configuration (Optional)
# -----------------------------------------------------------------------------
# Cookie security settings
# COOKIE_SECURE=true          # Set to true in production (requires HTTPS)
# COOKIE_SAMESITE=strict      # strict/lax/none (default: strict in prod, lax in dev)
# COOKIE_DOMAIN=              # Optional: set cookie domain (e.g., .example.com)

# -----------------------------------------------------------------------------
# CORS Configuration (Optional)
# -----------------------------------------------------------------------------
# Comma-separated list of allowed origins
# If not set, defaults to FRONTEND_BASE_URL in development
# CORS_ORIGIN=http://localhost:5173,http://localhost:3000

# -----------------------------------------------------------------------------
# Email / SMTP Configuration (Optional)
# -----------------------------------------------------------------------------
# EMAIL_MODE controls how emails are sent:
#   - "console": Emails are logged to console (no real delivery) - default in development
#   - "smtp": Emails are sent via SMTP - default in production (requires full SMTP config)
# 
# In production, if EMAIL_MODE=smtp and SMTP config is missing, server will FAIL to start.
# In development, missing SMTP config will fall back to console mode with a warning.

EMAIL_MODE=console          # "smtp" or "console" (default: console in dev, smtp in prod)

# To enable email sending, configure all SMTP variables below:
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASS=your-app-password
# SMTP_SECURE=false           # true for SSL (port 465), false for TLS (port 587)
# SMTP_FROM=noreply@ogc-newfinity.com

# Enable email test endpoint in production (dev-only by default)
# ENABLE_EMAIL_TEST_ENDPOINT=true  # Set to true to enable POST /api/v1/system/email/test in production

# -----------------------------------------------------------------------------
# OAuth Providers (Optional)
# -----------------------------------------------------------------------------
# Configure OAuth providers by setting CLIENT_ID and CLIENT_SECRET for each
# If only one is set, a warning will be shown at startup

# Google OAuth
# GOOGLE_CLIENT_ID=your-google-client-id
# GOOGLE_CLIENT_SECRET=your-google-client-secret

# GitHub OAuth
# GITHUB_CLIENT_ID=your-github-client-id
# GITHUB_CLIENT_SECRET=your-github-client-secret

# Discord OAuth
# DISCORD_CLIENT_ID=your-discord-client-id
# DISCORD_CLIENT_SECRET=your-discord-client-secret

# Twitter OAuth
# TWITTER_CLIENT_ID=your-twitter-consumer-key
# TWITTER_CLIENT_SECRET=your-twitter-consumer-secret

# LinkedIn OAuth
# LINKEDIN_CLIENT_ID=your-linkedin-client-id
# LINKEDIN_CLIENT_SECRET=your-linkedin-client-secret

# -----------------------------------------------------------------------------
# Rate Limiting (Optional)
# -----------------------------------------------------------------------------
# RATE_LIMIT_WINDOW_MS=60000  # Time window in milliseconds (default: 60000 = 1 minute)
# RATE_LIMIT_MAX=120           # Max requests per window (default: 120)

# -----------------------------------------------------------------------------
# Other Configuration (Optional)
# -----------------------------------------------------------------------------
# TERMS_VERSION=1.0            # Terms & Conditions version (default: 1.0)
